<!DOCTYPE html>





<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  
    
    Attacks
  
 | The Computable Book</title>



<link rel="stylesheet" href="../../book.min.f4161f5e2de53a2e927f51df1611323a2a12cccb2681f23cb6fc3517852e8643.css">


<link rel="icon" href="../../favicon.png" type="image/x-icon">


<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body>
  <input type="checkbox" style="display: none" id="menu-control" />
  <main class="flex container">

    <aside class="book-menu fixed">
      <nav>
<h2 class="book-brand">
  <a href="https://computablelabs.github.io/compspec/">The Computable Book</a>
</h2>



    
  
  
  

  <style>
  nav ul a[href$="\2f docs\2f attacks\2f "] {
      color: #0b3a53;
  }
  </style>

<ul>
<li><a href="../../"><strong>Introduction</strong></a></li>
<li><a href="../../docs/contracts/">Contracts</a></li>
<li><a href="../../docs/ethertoken/">Ether Token</a></li>
<li><a href="../../docs/markettoken/">Market Token</a></li>
<li><a href="../../docs/voting/">Voting</a></li>
<li><a href="../../docs/listings/">Listings</a></li>
<li><a href="../../docs/reserve/">Reserve</a></li>
<li><a href="../../docs/datatrust/">Datatrusts</a></li>
<li><a href="../../docs/parameters/">Market Parameters</a></li>
<li><a href="../../docs/capi/">CAPI</a></li>
<li><a href="../../docs/libraries/">Developer Libraries</a></li>
<li><a href="../../docs/userjourney/">User Journeys</a></li>
<li><a href="../../docs/attacks/">Attacks</a></li>
<li><a href="../../docs/continuing/">Continuing Your Journey</a></li>
</ul>





</nav>


  
<script>
(function() {
  var menu = document.querySelector('aside.book-menu nav')
  addEventListener('beforeunload', function(event) {
    localStorage.setItem('menu.scrollTop', menu.scrollTop)
  });
  menu.scrollTop = localStorage.getItem('menu.scrollTop')
})()
</script>



    </aside>

    <div class="book-page">
      <header class="align-center justify-between book-header">
  <label for="menu-control">
    <img src="../../svg/menu.svg" alt="Menu" />
  </label>
  <strong>
  
    
    Attacks
  
</strong>
</header>

      
<article class="markdown">

<h1 id="attacks">Attacks</h1>

<p>This chapter introduces you to known attacks on the
Computable protocol and known defenses against such
attacks.  When developing Computable, we made some
trade-offs. In particular, we&rsquo;ve consistently voted for
simplicity. This makes it possible for us to actually
ship working code in reasonable timeframes. But our
choice to go with simplicity means that there are some
more sophisticated attacks that bad actors could
execute against your data markets. These aren&rsquo;t
necessarily easy to do, but forewarned is forearmed and
we want to give you the best knowledge we have. Let&rsquo;s
get started.</p>

<h2 id="front-running-attacks">Front Running Attacks</h2>

<p>In the current version of the Comptuable protocol, it
is possible for a determined adversary to front-run a
number of protocol interactions. What does that mean?
Recall that Ethereum transactions are broadcasted to
the network of Ethereum nodes at large. That means it&rsquo;s
possible to detect a transaction while it&rsquo;s being
propagated and before it&rsquo;s confirmed on the chain as
permanent. A front running attack is when an attacker
detects such an unconfirmed transaction and sends an
alternative transaction which exploits the information
it&rsquo;s gained before this transaction goes through. This
is possible if the attacker runs a miner for example,
or if it&rsquo;s willing to pay high gas cost to incentivize
miners to pick up its transaction before yours.</p>

<p>How could this work on Computable contracts? Here&rsquo;s an
example: if a listing with a given <code>listingHash</code> is
proposed but not yet confirmed as a transaction, the
adversary could create an alternative transaction with
the same <code>listingHash</code> to attempt to block the original
listing.</p>

<p>The same attack can be applied to any candidate,
allowing a determined attacker to bring a market to a
standstill by preventing all governance actions from
going through. However, this attack requires some
infrastructure, with the attacker having to
consistently monitor in-coming transactions and
front-running them, possibly by expending more on gas.
This means that the attack is pretty hard to execute,
but definitely within the realm of possibility.</p>

<h2 id="datatrust-fraud">Datatrust Fraud</h2>

<p>This attack happens when a datatrust operator commits
fraud and doesn&rsquo;t serve its purpose correctly. At
present, this is a known failure mode of the current
version of the protocol.  However, this topic is being
actively researched on the
<a href="https://forum.computable.io/">forums</a>. Future versions
of the Computable protocol should lower the trust
requirements for the datatrust. In addition, future
versions of the protocol will allow multiple datatrusts
to serve a data market, making markets more robust
against fraudulent datatrust operators.</p>

<h2 id="reserve-race-conditions">Reserve Race Conditions</h2>

<p>Calls to <code>Reserve.support()</code> and <code>Reserve.withdraw()</code>
will be publicly visible on the Ethereum network before
they are confirmed. A dedicated watcher could watch for
incoming large <code>Reserve.support()</code> orders, front-run by
buying some amount itself with <code>Reserve.support()</code>,
then immediately calling <code>Reserve.withdraw()</code> after the
large order is confirmed.</p>

<p>The <code>spread</code> provides some defense against this type of
attack, since the watcher would have to pay for the
spread when executing this attack. As a result, only
large market shifts would be vulnerable to these sorts
of attacks.</p>

<h2 id="candidate-flooding-attack">Candidate Flooding Attack</h2>

<p>At present, there is no stake required to propose a new
candidate (remember that candidates can propose new
listings, reparameterizations, or change of datatrust).
This means that it will be relatively easy for a
malicious party to spawn many candidates. This party
could then wait till the last minute to vote for one of
its candidates. If market governance isn&rsquo;t actively
tracking for such last-minute votes, it&rsquo;s possible that
a such a candidate could slip through and be accepted
(particularly since there isn&rsquo;t a quorum requirement
for votes at present).</p>

<p>If the vote is for reparameterization or change of
datatrust, the attack could prove to be disruptive. At
present, there isn&rsquo;t a mitigation for this attack
beyond careful monitoring by market stakeholders. You
might ask why this situation arises. The market smart
contracts were designed to be maximally simple. This
meant that we made trade-offs that preserved
simplicity. However, this simplicity opens the door to
some sophisticated attacks. If these attacks prove to
be serious in practice, future versions of the protcol
will likely alter voting to make critical changes
significantly harder.</p>

<p>There are a number of specialized types of candidate
flooding which we will explore in more detail below:</p>

<h3 id="data-flooding-attack">Data Flooding Attack</h3>

<p>Attackers attempt to flood market with low-quality
listings. This is a special case of a candidate
flooding attack where the candidate is a listing
candidate. This attack is possible to partially defend
against by an honest datatrust which can set up
defenses to prevent obvious DoSing attempts.</p>

<h3 id="reparameterization-attacks">Reparameterization Attacks</h3>

<p>Attackers can flood the market with many
reparameterizations. If a nonsensical
reparameterization makes its way through, it&rsquo;s possible
that the market could be bricked. In particular, an
attack which sets the voting stake exorbitantly high
could freeze market governance and make it impossible
to further change market stake.</p>

<h2 id="last-thoughts">Last Thoughts</h2>

<p>We&rsquo;ve listed a number of known attacks in this chapter,
but the one thing to remember about security is that
there are always unknown unknowns. We&rsquo;ve done our best
to secure the Computable smart contracts and systems,
but there might be unforeseen subtle bugs. When you
work with crypto, there is always a risk. Perform your
own analysis. If you detect anything wrong, share with
the broader Computable community.</p>

<p>In the next chapter, we&rsquo;ll provide you some tips and
tools for continuing your journey in the Computable
ecosystem.</p>

<div style="text-align: right"> <a href="../../docs/continuing">Next Chapter</a> </div>
</article>

      
<div class="book-footer justify-between">
  
  <div>
    
    <a href="https://github.com/computablelabs/compspec/commit/919836fda20d6db2792f03e369aade10613095da" title='Last modified Jul 18, 2019 by Bharath Ramsundar' target="_blank" rel="noopener">
      <img src="../../svg/calendar.svg" alt="Changed" /> Jul 18, 2019
    </a>
  </div>
  
  
  <div>
    <a href="https://github.com/computablelabs/compspec/edit/master/docs/attacks.md" target="_blank" rel="noopener">
      <img src="../../svg/edit.svg" alt="Edit" /> Edit this page
    </a>
  </div>
  
</div>


      
    </div>

    
  

  <aside class="book-toc level-6 fixed">
    <nav id="TableOfContents">
<ul>
<li><a href="#attacks">Attacks</a>
<ul>
<li><a href="#front-running-attacks">Front Running Attacks</a></li>
<li><a href="#datatrust-fraud">Datatrust Fraud</a></li>
<li><a href="#reserve-race-conditions">Reserve Race Conditions</a></li>
<li><a href="#candidate-flooding-attack">Candidate Flooding Attack</a>
<ul>
<li><a href="#data-flooding-attack">Data Flooding Attack</a></li>
<li><a href="#reparameterization-attacks">Reparameterization Attacks</a></li>
</ul></li>
<li><a href="#last-thoughts">Last Thoughts</a></li>
</ul></li>
</ul>
</nav>
  </aside>



  </main>
  
  
  
</body>

</html>
